{"version":3,"sources":["components/Person.js","services/persons.js","App.js","index.js"],"names":["Person","props","person","name","number","onClick","deleteButton","baseUrl","axios","get","newObject","post","id","put","delete","Persons","filteredPersons","console","log","map","p","key","Filter","value","show","onChange","handleShow","PersonForm","addName","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","App","useState","persons","setPersons","setNewName","setNewNumber","setShow","useEffect","personService","then","res","data","e","target","preventDefault","some","el","checkForUpdate","window","alert","confirm","personTemp","find","changed","response","concat","filter","Object","keys","toLowerCase","includes","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.917dac62.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = (props) => {\r\n   \r\n    //console.log(props) returns \"{name: \"Arto Hellas\"}\"\r\n    // why doesnt person prop go as object??\r\n    const person = props.person\r\n    return (\r\n        <p>{props.person.name} : {props.person.number}\r\n        <button onClick={() => props.deleteButton(person)}>delete</button>\r\n        </p>\r\n    )\r\n}\r\n\r\nexport default Person\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = newObject => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nconst remove = id => {\r\n  return axios.delete(`${baseUrl}/${id}`,)\r\n}\r\n\r\nexport default { \r\n  getAll: getAll, \r\n  create: create, \r\n  update: update,\r\n  remove: remove\r\n}","import React, { useState, useEffect } from 'react'\r\nimport Person from './components/Person'\r\nimport personService from './services/persons'\r\n\r\n\r\nconst Persons = (props) => {\r\n\r\n  const filteredPersons = props.filteredPersons();\r\n  console.log(filteredPersons)\r\n  return <ul>\r\n      {filteredPersons.map((p) =>\r\n    <Person key={p.id} person={p}  deleteButton={props.deleteButton}/>)}\r\n    </ul>\r\n}\r\n\r\n\r\nconst Filter = (props) => {\r\n    \r\n  return (\r\n      <div>\r\n        filter: <input value={props.show} onChange={props.handleShow}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst PersonForm = (props) => {\r\n    const {addName, newName, handleNameChange, newNumber, handleNumberChange} = {...props}\r\n  return (\r\n    <form onSubmit={addName}>\r\n    <div>\r\n      name: <input value={newName} onChange={handleNameChange}/>\r\n    </div>\r\n    <div>\r\n      number: <input value={newNumber} onChange={handleNumberChange}/>\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n  )\r\n}\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ show, setShow ] = useState('')\r\n\r\n  useEffect(() => {\r\n   personService\r\n      .getAll()\r\n      .then(res => {\r\n        setPersons(res.data)\r\n      })\r\n  }, [])\r\n\r\n\r\n  const notesToShow = () =>  {\r\n    const a = persons.filter(person => \r\n      Object.keys(person).some(name =>\r\n        person[name].toLowerCase().includes(show.toLowerCase())\r\n        )) \r\n     \r\n      return a;\r\n    }\r\n \r\n  \r\n  const checkIfNameExists = (name) => {\r\n      const check = persons.some(el => el.name === name)\r\n      return check\r\n  }\r\n\r\n  const checkForUpdate = (name,number) => {\r\n    const check = persons.some(el => el.name === name & el.number === number)\r\n    return check\r\n  }\r\n  const addName = (e) => {\r\n    e.preventDefault()\r\n    if(checkIfNameExists(newName)) {\r\n      //part2.19\r\n      if(!checkForUpdate(newName,newNumber)){\r\n        const confirm = window.confirm(`Replace ${newName}'s old number with a new one?`);\r\n        if(confirm) {\r\n            \r\n            const personTemp = persons.find(p => p.name === newName)\r\n            const changed = {...personTemp, number: newNumber}\r\n            const id = personTemp.id\r\n            personService\r\n              .update(id, changed)\r\n              .then(response => {\r\n                setPersons(persons.map(p => p.id !== id ? p : response.data))\r\n              })\r\n            \r\n            setNewName('')\r\n            setNewNumber('')\r\n        }\r\n      }\r\n      else {\r\n          window.alert(`${newName} is already added to phonebook with the same number`)\r\n      }\r\n    }else{\r\n      const personObject = {\r\n        name: newName,\r\n        number: newNumber\r\n      }\r\n      personService\r\n      .create(personObject)\r\n      .then(response => {\r\n        setPersons(persons.concat(response.data))\r\n        setNewName('')\r\n        setNewNumber('')\r\n      })\r\n\r\n      \r\n    }\r\n    \r\n  }\r\n\r\n  const handleNameChange = (e) => {\r\n    setNewName(e.target.value)\r\n    //console.log(newName)\r\n  }\r\n\r\n  const handleNumberChange = (e) => {\r\n    setNewNumber(e.target.value)\r\n    //console.log(newName)\r\n  }\r\n  const handleShow = (e) => {\r\n      setShow(e.target.value)\r\n  }\r\n  const deleteButton = (props) => {\r\n    \r\n    const check = window.confirm(`Do you really want to delete ${props.name}?`);\r\n    if (check) {\r\n      personService.remove(props.id).then(() => {\r\n        setPersons(persons.filter(p => p.id !== props.id))\r\n      })\r\n    } \r\n  }\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <Filter show={show} handleShow={handleShow}/>\r\n      <h3>add a new</h3>\r\n      <PersonForm \r\n      addName={addName} \r\n      newName={newName} \r\n      handleNameChange={handleNameChange} \r\n      newNumber={newNumber} \r\n      handleNumberChange={handleNumberChange}\r\n      />\r\n      <h2>Numbers</h2>\r\n        <Persons deleteButton={deleteButton} filteredPersons={notesToShow}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}